{% extends 'base.html.twig' %}

{% block body_id 'homepage' %}

{% block header %}{% endblock %}

{% block body %}
<div class="page-header">
    <h1>Characters List</h1>
</div>

{# Search Form #}
<form action="{{ app.request.uri }}" method="get">
    <input type="text" class="search-form" name="search" value="{{ searchTerm }}" placeholder="Search by name...">
    <button type="submit">Search</button>
</form>

{# Characters List #}
<ul class="characters-list">
    {% if characters is not empty %}
        {% for character in characters %}
            <li class="character" data-id="{{ character.id }}">
                <span class="character-name">{{ character.name }}</span>
                <div class="character-details" style="display: none;">
                    <img src="{{ asset('images/' ~ character.image) }}" alt="{{ character.name }}">
                    <p>Mass: {{ character.mass }} kg</p>
                    <p>Height: {{ character.height }} cm</p>
                </div>
            </li>
        {% endfor %}
    {% else %}
        <li>No characters found.</li>
    {% endif %}
</ul>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var characters = document.querySelectorAll('.character');

        characters.forEach(function(character) {
            character.addEventListener('click', function() {
                var details = this.querySelector('.character-details');
                details.style.display = details.style.display === 'none' ? 'block' : 'none';
            });
        });
    });
</script>

<style>
    .page-header {
        margin-bottom: 20px;
        text-align: center;
    }

    .search-form {
        margin-bottom: 20px;
        text-align: center;
    }

    .characters-list {
        list-style-type: none;
        padding: 0;
    }

    .character {
        cursor: pointer;
        margin-bottom: 10px;
        padding: 10px;
        border: 1px solid #ccc;
        background-color: #f9f9f9;
    }

    .character:hover {
        background-color: #e9e9e9;
    }

    .character-name {
        font-weight: bold;
        margin-bottom: 5px;
        display: block;
    }

    .character-details {
        margin-top: 10px;
        padding: 10px;
        border: 1px solid #ccc;
        background-color: #fff;
    }

    .character-image {
        max-width: 100px;
        max-height: 100px;
        display: block;
        margin-bottom: 10px;
    }

    .character-info p {
        margin: 5px 0;
    }
</style>

{% endblock %}

{% block footer %}{% endblock %}